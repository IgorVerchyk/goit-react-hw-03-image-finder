{"version":3,"sources":["components/styles.module.css","components/Sections.js","components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Button.js","components/Loader.js","components/servises/PixabayApi.js","components/Modal.js","App.js","index.js"],"names":["module","exports","Sections","children","className","styles","Container","SearchbarRender","state","searchQuery","changeHandler","event","query","currentTarget","value","setState","submitHandler","e","preventDefault","props","onSubmit","reset","Searchbar","SearchForm","type","SearchFormButton","onClick","this","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","GalleryItemRender","id","pageURL","webformatURL","largeImageURL","onOpenModal","ImageGalleryItem","src","alt","ImageGalleryItemImage","data-source","data-id","GalleryRender","images","ImageGallery","map","image","key","ButtonRender","onFetchImages","Button","propTypes","PropTypes","array","string","func","App","Loader","color","height","width","React","PixabayApi","page","apiKey","axios","get","then","response","data","hits","isRequired","number","Modal","handleKeyDown","code","onCloseModal","closeModal","target","window","addEventListener","removeEventListener","Overlay","largeImage","isLoading","error","pixabayApiKey","largeImageUrl","componentDidUpdate","prevProps","prevState","nextQuery","fetchImages","scrollToBottom","SearchImageFromPixabay","catch","finally","openModal","modalImage","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ae16fe08.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__1rm16\",\"Container\":\"styles_Container__1s8pw\",\"Searchbar\":\"styles_Searchbar__2_yzc\",\"SearchForm\":\"styles_SearchForm__1HcaX\",\"SearchFormButton\":\"styles_SearchFormButton__10ZK4\",\"SearchFormButtonLabel\":\"styles_SearchFormButtonLabel__3FK4n\",\"SearchFormInput\":\"styles_SearchFormInput__1sKCi\",\"ImageGallery\":\"styles_ImageGallery__2YXlM\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__2f0rK\",\"ImageGalleryItemImage\":\"styles_ImageGalleryItemImage__1fd22\",\"Overlay\":\"styles_Overlay__2y29n\",\"Modal\":\"styles_Modal__3vZCC\",\"Button\":\"styles_Button__TD6HC\",\"Loader\":\"styles_Loader__F-Kiq\"};","import React from \"react\";\r\nimport styles from \"./styles.module.css\";\r\n\r\nexport default function Sections({ children }) {\r\n  return <div className={styles.Container}>{children}</div>;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./styles.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass SearchbarRender extends Component {\r\n  state = {\r\n    searchQuery: \"\",\r\n  };\r\n\r\n  changeHandler = (event) => {\r\n    const query = event.currentTarget.value;\r\n\r\n    this.setState({ searchQuery: query });\r\n  };\r\n\r\n  submitHandler = (e) => {\r\n    e.preventDefault();\r\n    const query = this.state.searchQuery;\r\n    this.props.onSubmit(query);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm}>\r\n          <button\r\n            type=\"submit\"\r\n            className={styles.SearchFormButton}\r\n            onClick={this.submitHandler}\r\n          >\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.changeHandler}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchbarRender;\r\n\r\nSearchbarRender.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  query: PropTypes.string,\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./styles.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function GalleryItemRender({\r\n  id,\r\n  pageURL,\r\n  webformatURL,\r\n  largeImageURL,\r\n  onOpenModal,\r\n}) {\r\n  const showLargeImg = () => onOpenModal(largeImageURL);\r\n  return (\r\n    <li className={styles.ImageGalleryItem} onClick={showLargeImg}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={pageURL}\r\n        className={styles.ImageGalleryItemImage}\r\n        data-source={largeImageURL}\r\n        data-id={id}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nGalleryItemRender.propTypes = {\r\n  id: PropTypes.number,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport GalleryItemRender from \"./ImageGalleryItem\";\r\nimport styles from \"./styles.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function GalleryRender({ images, onOpenModal }) {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(({ id, ...image }) => (\r\n        <GalleryItemRender key={id} {...image} onOpenModal={onOpenModal} />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nGalleryItemRender.propTypes = {\r\n  image: PropTypes.array,\r\n  id: PropTypes.string,\r\n  onOpenModal: PropTypes.func,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./styles.module.css\";\r\n\r\nexport default function ButtonRender({ onFetchImages }) {\r\n  return (\r\n    <button className={styles.Button} onClick={onFetchImages}>\r\n      load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButtonRender.propTypes = {\r\n  onFetchArticle: PropTypes.func,\r\n};\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./styles.module.css\";\r\n\r\nexport default class App extends React.Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <div className={styles.Loader}>\r\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PixabayApi = (searchQuery, page, apiKey) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default { PixabayApi };\r\n\r\nPixabayApi.propTypes = {\r\n  searchQuery: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  apiKey: PropTypes.string.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./styles.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  closeModal = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.closeModal}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.largeImage} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onCloseModal: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\n//components\nimport Sections from \"./components/Sections\";\nimport SearchbarRender from \"./components/Searchbar\";\nimport GalleryRender from \"./components/ImageGallery\";\nimport ButtonRender from \"./components/Button\";\nimport Loader from \"./components/Loader\";\n//utils\nimport SearchImageFromPixabay from \"./components/servises/PixabayApi\";\nimport Modal from \"./components/Modal\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    searchQuery: \"\",\n    error: null,\n    pixabayApiKey: `17651389-56d50551944c5e0543b25b372`,\n    page: 1,\n    largeImageUrl: null,\n  };\n\n  onSubmit = (query) => {\n    this.setState({ searchQuery: query });\n  };\n\n  componentDidUpdate = (prevProps, prevState) => {\n    const nextQuery = this.state.searchQuery;\n    const prevQuery = prevState.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n    if (this.state.page > 2 && prevState.page !== this.state.page) {\n      this.scrollToBottom();\n    }\n  };\n\n  fetchImages = () => {\n    this.setState({ isLoading: true });\n    const { searchQuery, page, pixabayApiKey } = this.state;\n    SearchImageFromPixabay.PixabayApi(searchQuery, page, pixabayApiKey)\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  openModal = (modalImage) => {\n    this.setState({ largeImageUrl: modalImage });\n  };\n\n  closeModal = () => {\n    this.setState({ largeImageUrl: null });\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  render() {\n    const { images, isLoading, largeImageUrl } = this.state;\n    return (\n      <Sections>\n        <SearchbarRender onSubmit={this.onSubmit} />\n        {largeImageUrl !== null && (\n          <Modal\n            largeImage={largeImageUrl}\n            onCloseModal={this.closeModal}\n          ></Modal>\n        )}\n        {images.length > 0 && (\n          <GalleryRender images={images} onOpenModal={this.openModal} />\n        )}\n        {isLoading && <Loader />}\n        {images.length > 0 && !isLoading && (\n          <ButtonRender onFetchImages={this.fetchImages} />\n        )}\n      </Sections>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}